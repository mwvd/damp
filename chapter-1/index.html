<html>
    <head>
        <title>chapter 1</title>
        <meta name="description" content="ISSUE #0 // ICARUS // CHAPTER 1">
        
        <meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        
        <meta property="og:title" content="damp // issue #0: icarus" />
        <meta property="og:type" content="article" />
        <meta property="og:image" content="https://raw.githubusercontent.com/mwvd/damp/gh-pages/assets/1.png" />
        <meta property="og:url" content="http://mwvd.github.io/damp/" />
        <meta property="og:description" content="everything is cold // everything is quiet // everything is temporary" />
        
        <link rel="shortcut icon" href="../assets/favicon.ico" type="image/x-icon">
        <link rel="icon" href="../assets/favicon.ico" type="image/x-icon">
        
        <link rel="stylesheet" href="../stylesheets/screen.css" type="text/css">

        <link rel="stylesheet" href="../stylesheets/chapter1.css" type="text/css">

        <link href='http://fonts.googleapis.com/css?family=Montserrat:700' rel='stylesheet' type='text/css'>

        <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Inconsolata">

        <link href="../stylesheets/transition.css" rel="stylesheet" type="text/css"/>

        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/1.13.1/TweenMax.min.js"></script>

        <script type="text/javascript" src="../js/jquery.scrollmagic.min.js"></script>

        <script type="text/javascript" src="../js/fasw.transitions.min.js"></script>

        <script src="../js/waypoints.min.js"></script>

        <script src="../js/three.min.js"></script>
        <script src="../js/FirstPersonControls.js"></script>
        <script src="../js/TrackballControls.js"></script>
        <script src="../js/detector.js"></script>
        <script src="../js/stats.min.js"></script>


    <body>
        <div class="blue-screen">
            <a href="#preface">
                <svg version="1.1" id="arrow-down" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
            	 width="68.483px" height="61.375px" viewBox="0 0 68.483 61.375" enable-background="new 0 0 68.483 61.375" xml:space="preserve">
                <polyline fill="none" stroke="#FFFFFF" stroke-width="3" stroke-miterlimit="10" points="65.965,2.501 34.5,57.002 3.035,2.501 "/>
                </svg>
            </a>
        </div>

        <div class="preface" name="preface">
            <div class="text-wrapper">

                <p>
                    damp/
                    <br><br><br>
                    adjective<br>
                    1. slightly wet.<br>
                    "her hair was still damp from the shower"<br>
                    <br>
                    noun<Br>
                    1. moisture diffused through the air <br>
                    or a solid substance or condensed on a <br>
                    surface, typically with detrimental <br>
                    or unpleasant effects.<br>
                    2. [archaic] a check or discouragement.<br>
                    "shame gave a damp to her triumph"<br>
                    <br>
                    verb<br>
                    1. make (something) slightly wet.<br>
                    "damp a small area with water"<br>
                    2. control or restrain <br>
                    "she tried to damp down her feelings of despair"<br>
                    <br>
                    origin<br>
                    [Middle English] <br>
                    in the noun sense ‘noxious inhalation’; <br>
                    related to a Middle Low German<br>
                    word meaning ‘vapor, steam, smoke.’<br>
                </p>
                <div id="end-preface"></div>
            </div>         
        </div>

        <div class="the-sea">
            <div class="anchor-above" id="sea-anchor"></div>
            <div class="text-wrapper" id="sea-text">
                <h2>
                    Chapter One
                    <br>
                    The Sea
                </h2>
                <p>
                    <br>
                    <br>
                    <br>
                    <br>
                    The Sea is a different environment. It is very cold in some regions. The deepest extents of The Sea meets the ends and the beginings of the Earth. Some think it could be a home for us in the future. Until then we are the empty half of the glass. To travel deep into The Sea, we will need help. The deeper we go, the more help we will need. When we finally walk on the bedrock of the ocean, we will have had so much help. We will be grateful for everything. Things will be great. We will have learned to breathe underwater. And then we can begin drilling to the molten underneath, and then to the core.
                    <br>
                    <br>
                    <br>

                    For the time being, we are only floating on the surface.
                </p>
                <div id="end-sea"></div>
            </div>
        </div>

        <div class="grad-white">
        </div>

        <div class="white">
            
        </div>

        <div class="box" id="cube">
            <div class="box-overlay">
                <h2 class="title1 link">
                    <a href="#">Heresy</a>
                </h2>
                <h2 class="title2 link">
                    <a href="#">Fraud</a>
                </h2>
                <h2 class="title3 link">
                    <a href="#">Violence</a>
                </h2>
                <h2 class="title4 link">
                    <a href="#">Treachery</a>
                </h2>
            </div>
            
        </div>

        <div class="blue-screen">
            
        </div>

        <div class="blue-screen">
            <div class="text-wrapper" id="the-essay">
                <h2>
                    Chapter Essay
                    <br>
                    Something
                </h2>
                <p>
                    <br>
                    <br>
                    <br>
                    <br>
                    The Sea is a different environment. It is very cold in some regions. The deepest extents of The Sea meets the ends and the beginings of the Earth. Some think it could be a home for us in the future. Until then we are the empty half of the glass. To travel deep into The Sea, we will need help. The deeper we go, the more help we will need. When we finally walk on the bedrock of the ocean, we will have had so much help. We will be grateful for everything. Things will be great. We will have learned to breathe underwater. And then we can begin drilling to the molten underneath, and then to the core.
                    <br>
                    <br>
                    <br>

                    For the time being, we are only floating on the surface.
                </p>
                <div id="end-essay"></div>
            </div>
        </div>

        <div class="sea">
            <div class="wrap" id="seawrap">
                <div id="container"></div>
            </div>
        </div>


    </body>




    <script>

        $(function(){

            //remove little fps fox
            $("#fps").remove()

            function fader() {
                var r = $('#sea-text'),  
                    b = $('#the-essay'),  
                    wh = $(window).height(),  
                    dt = $(document).scrollTop(), 
                    redView  = wh - (r.offset().top - dt),

                    blueView = wh - (b.offset().top - dt),

                    op;
                if (redView > 0) {

                    op = 1 / (wh + r.height() - 500 ) * redView;

                    if (op <= 1)
                        r.css('opacity', op);
                }
                if (blueView > 0) {
                    op = 1 / (wh + b.height() - 500) * blueView;
                    if (op <= 1)
                        b.css('opacity', op);
                }

            }
            // Attach scroll event to the function fader()
            $(document).bind('scroll', fader);
        })

        //smooth scroll anchor links 
        $(function(){
            $('a[href*=#]:not([href=#])').click(function() {
                if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
                    var target = $(this.hash);
                    target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
                    if (target.length) {
                        $('html,body').animate({
                            scrollTop: target.offset().top - 50
                        }, 500);
                        return false;
                    }
                }
            });
        });



        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-51501346-1', 'mwvd.github.io');
        ga('send', 'pageview');
        
    </script>

    <script>
        var scene = new THREE.Scene();
        var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
        var renderer = new THREE.WebGLRenderer( { alpha: true } );
        renderer.setClearColor( 0x000000, 0 ); // the default
        renderer.setSize(document.getElementById("cube").offsetWidth, document.getElementById("cube").offsetHeight);
        renderer.setSize( window.innerWidth, window.innerHeight );
        document.getElementById("cube").appendChild(renderer.domElement);
        var geometry = new THREE.CubeGeometry(1.5,1.5,1.5);
        var material = new THREE.MeshBasicMaterial( { color: 0x0000ff } );
        var cube = new THREE.Mesh( geometry, material );
        scene.add( cube );
        camera.position.z = 3;
        function render() {
            requestAnimationFrame(render);
            cube.rotation.x += 0.01;
            cube.rotation.y += 0.01;
            renderer.render(scene, camera);    
        }
        render();
    </script>

    <script>

        if ( ! Detector.webgl ) {
            Detector.addGetWebGLMessage();
            document.getElementById( 'container' ).innerHTML = "";
        }

        var container, stats;
        var camera, controls, scene, renderer;
        var mesh, texture, geometry, material;
        var worldWidth = 128, worldDepth = 128,
        worldHalfWidth = worldWidth / 2, worldHalfDepth = worldDepth / 2;
        var clock = new THREE.Clock();

        init();
        animate();

        function init() {
            container = document.getElementById( 'container' );
            camera = new THREE.PerspectiveCamera( 60, document.getElementById("seawrap").offsetWidth / document.getElementById("seawrap").offsetHeight, 1, 20000 );

            camera.position.y = 200;
            controls = new THREE.FirstPersonControls( camera );

            controls.movementSpeed = 500;
            controls.lookSpeed = 0.1
            scene = new THREE.Scene();
            scene.fog = new THREE.FogExp2( 0xaaccff, 0.0007 );
            geometry = new THREE.PlaneGeometry( 20000, 20000, worldWidth - 1, worldDepth - 1 );
            geometry.applyMatrix( new THREE.Matrix4().makeRotationX( - Math.PI / 2 ) );
            geometry.dynamic = true;

            var i, j, il, jl;

            for ( i = 0, il = geometry.vertices.length; i < il; i ++ ) {

                geometry.vertices[ i ].y = 35 * Math.sin( i/2 );

            }

            geometry.computeFaceNormals();
            geometry.computeVertexNormals();

            var texture = THREE.ImageUtils.loadTexture( "../assets/water.jpg" );
            texture.wrapS = texture.wrapT = THREE.RepeatWrapping;
            texture.repeat.set( 5, 5 );

            material = new THREE.MeshBasicMaterial( { color: 0x0044ff, map: texture } );

            mesh = new THREE.Mesh( geometry, material );
            scene.add( mesh );

            renderer = new THREE.WebGLRenderer();
            renderer.setClearColor( 0xaaccff, 1 );

            renderer.setSize(document.getElementById("seawrap").offsetWidth, document.getElementById("seawrap").offsetHeight);

            container.innerHTML = "";

            container.appendChild( renderer.domElement );

            stats = new Stats();
            stats.domElement.style.position = 'absolute';
            stats.domElement.style.top = '0px';
            container.appendChild( stats.domElement );

            //

            window.addEventListener( 'resize', onWindowResize, false );

        }

        function onWindowResize() {

            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();

            renderer.setSize(document.getElementById("seawrap").offsetWidth, document.getElementById("seawrap").offsetHeight);


            controls.handleResize();

        }

        //

        function animate() {

            requestAnimationFrame( animate );

            render();
            stats.update();

        }

        function render() {

            var delta = clock.getDelta(),
                time = clock.getElapsedTime() * 10;

            for ( var i = 0, l = geometry.vertices.length; i < l; i ++ ) {

                geometry.vertices[ i ].y = 35 * Math.sin( i / 5 + ( time + i ) / 7 );

            }

            //geometry.computeFaceNormals();
            //geometry.computeVertexNormals();

            mesh.geometry.verticesNeedUpdate = true;
            //mesh.geometry.normalsNeedUpdate = true;

            controls.update( delta );
            renderer.render( scene, camera );

        }

    </script>




</html>
